/*
Copyright (c) 2019 Daybrush
name: css-styled
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/css-styled.git
version: 1.0.0
*/
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).styled=n()}(this,function(){"use strict";var e=function(e){for(var n=5381,t=e.length;t;)n=33*n^e.charCodeAt(--t);return n>>>0},l=['"',"'",'\\"',"\\'"];function c(e,n,t,r){for(var o=t;o<r;++o){var i=n[o].trim();if(i===e)return o;var u=o;if("("===i?u=c(")",n,o+1,r):-1<l.indexOf(i)&&(u=c(i,n,o+1,r)),-1===u)break;o=u}return-1}function f(e){return function(e,n){for(var t=new RegExp("(\\s*"+(n||",")+"\\s*|\\(|\\)|\"|'|\\\\\"|\\\\'|\\s+)","g"),r=e.split(t).filter(Boolean),o=r.length,i=[],u=[],f=0;f<o;++f){var a=r[f].trim(),d=f;if("("===a)d=c(")",r,f+1,o);else{if(")"===a)throw new Error("invalid format");if(-1<l.indexOf(a))d=c(a,r,f+1,o);else if(a===n){u.length&&(i.push(u.join("")),u=[]);continue}}-1===d&&(d=o-1),u.push(r.slice(f,d+1).join("")),f=d}return u.length&&i.push(u.join("")),i}(e,",")}function d(e,n,t,r){var o,i,u=document.createElement("style");return u.setAttribute("type","text/css"),u.setAttribute("data-styled-id",e),t.nonce&&u.setAttribute("nonce",t.nonce),u.innerHTML=(o=e,i=n,t.original?i:i.replace(/([^};{\s}][^};{]*|^\s*){/gm,function(e,n){var t=n.trim();return(t?f(t):[""]).map(function(e){var n=e.trim();return 0===n.indexOf("@")?n:-1<n.indexOf(":global")?n.replace(/\:global/g,""):-1<n.indexOf(":host")?""+n.replace(/\:host/g,"."+o):n?"."+o+" "+n:"."+o}).join(", ")+" {"})),(r||document.head||document.body).appendChild(u),u}return function(i){var u,f="rCS"+e(i).toString(36),a=0;return{className:f,inject:function(e,n){void 0===n&&(n={});var t,r=function(e){if(e&&e.getRootNode){var n=e.getRootNode();if(11===n.nodeType)return n}}(e),o=0===a;return(r||o)&&(t=d(f,i,n,r)),o&&(u=t),r||++a,{destroy:function(){r?(e.removeChild(t),t=null):(0<a&&--a,0===a&&u&&(u.parentNode.removeChild(u),u=null))}}}}}});
//# sourceMappingURL=styled.min.js.map
