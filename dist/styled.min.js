/*
Copyright (c) 2019 Daybrush
name: css-styled
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/css-styled.git
version: 0.2.3
*/
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).styled=n()}(this,function(){"use strict";var e=function(e){for(var n=5381,t=e.length;t;)n=33*n^e.charCodeAt(--t);return n>>>0},d=['"',"'",'\\"',"\\'"];function c(e,n,t,r){for(var o=t;o<r;++o){var i=n[o].trim();if(i===e)return o;var u=o;if("("===i?u=c(")",n,o+1,r):-1<d.indexOf(i)&&(u=c(i,n,o+1,r)),-1===u)break;o=u}return-1}function a(e){return function(e,n){for(var t=new RegExp("(\\s*"+(n||",")+"\\s*|\\(|\\)|\"|'|\\\\\"|\\\\'|\\s+)","g"),r=e.split(t).filter(Boolean),o=r.length,i=[],u=[],f=0;f<o;++f){var l=r[f].trim(),a=f;if("("===l)a=c(")",r,f+1,o);else{if(")"===l)throw new Error("invalid format");if(-1<d.indexOf(l))a=c(l,r,f+1,o);else if(l===n){u.length&&(i.push(u.join("")),u=[]);continue}}-1===a&&(a=o-1),u.push(r.slice(f,a+1).join("")),f=a}return u.length&&i.push(u.join("")),i}(e,",")}return function(i){var u,f="rCS"+e(i).toString(36),l=0;return{className:f,inject:function(e,n){void 0===n&&(n={});var t,r=function(e){if(e&&e.getRootNode){var n=e.getRootNode();if(11===n.nodeType)return n}}(e),o=0===l;return(r||o)&&(t=function(t,e,n,r){var o=document.createElement("style");o.setAttribute("type","text/css"),o.setAttribute("data-styled-id",t),n.nonce&&o.setAttribute("nonce",n.nonce);var i=e;return n.original||(i=e.replace(/([^}{]*){/gm,function(e,n){return a(n).map(function(e){return-1<e.indexOf(":global")?e.replace(/\:global/g,""):-1<e.indexOf(":host")?""+e.replace(/\:host/g,"."+t):"."+t+" "+e}).join(", ")+"{"})),o.innerHTML=i,(r||document.head||document.body).appendChild(o),o}(f,i,n,r)),o&&(u=t),r||++l,{destroy:function(){r?(e.removeChild(t),t=null):(0<l&&--l,0===l&&u&&(u.parentNode.removeChild(u),u=null))}}}}}});
//# sourceMappingURL=styled.min.js.map
