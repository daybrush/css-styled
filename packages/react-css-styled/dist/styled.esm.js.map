{"version":3,"file":"styled.esm.js","sources":["../src/react-css-styled/styled.tsx"],"sourcesContent":["import { Component, createElement } from \"react\";\nimport { IObject } from \"@daybrush/utils\";\nimport { ref } from \"framework-utils\";\nimport cssStyled, { InjectResult } from \"css-styled\";\n\nexport default function styled<T extends HTMLElement | SVGElement = HTMLElement>(Tag: string, css: string) {\n    const injector = cssStyled(css);\n\n    return class Styled extends Component<IObject<any>> {\n        public static injector = injector;\n        public element!: T;\n        public injectResult!: InjectResult | null;\n        public render() {\n            const {\n                className = \"\",\n                cspNonce,\n                ...attributes\n            } = this.props;\n            const cssId = injector.className;\n            return createElement(Tag, {\n                \"ref\": ref(this, \"element\"),\n                \"data-styled-id\": cssId,\n                \"className\": `${className} ${cssId}`,\n                ...attributes,\n            });\n        }\n        public componentDidMount() {\n            this.injectResult = injector.inject(this.element, {\n                nonce: this.props.cspNonce,\n            });\n        }\n        public componentWillUnmount() {\n            this.injectResult!.destroy();\n            this.injectResult = null;\n        }\n        public getElement() {\n            return this.element;\n        }\n    };\n}\n"],"names":["styled","Tag","css","injector","cssStyled","tslib_1","Styled","_a","_b","className","cspNonce","attributes","cssId","createElement","ref","injectResult","inject","element","nonce","props","destroy","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAKwBA,OAAyDC,KAAaC;;;MACpFC,QAAQ,GAAGC,SAAS,CAACF,GAAD,CAA1B;;;;IAE4BG,SAAA,OAAA,QAAA;;mBAArB;;;;IAIIC,gBAAA,OAAA,GAAP;UACUC,eAAN;UACIC,iBADJ;UACIC,mCADJ;UAEIC,sBAFJ;UAGIC,kDAHJ;;UAKMC,KAAK,GAAGT,QAAQ,CAACM,SAAvB;aACOI,aAAa,CAACZ,GAAD;eACTa,GAAG,CAAC,IAAD,EAAO,SAAP;0BACQF;qBACFH,SAAS,MAAT,GAAaG;SAC1BD,WAJa,CAApB;KAPG;;IAcAL,gBAAA,kBAAA,GAAP;WACSS,YAAL,GAAoBZ,QAAQ,CAACa,MAAT,CAAgB,KAAKC,OAArB,EAA8B;QAC9CC,KAAK,EAAE,KAAKC,KAAL,CAAWT;OADF,CAApB;KADG;;IAKAJ,gBAAA,qBAAA,GAAP;WACSS,YAAL,CAAmBK,OAAnB;WACKL,YAAL,GAAoB,IAApB;KAFG;;IAIAT,gBAAA,WAAA,GAAP;aACW,KAAKW,OAAZ;KADG;;iBAGX;IA9B4BI,YACVd,WAAA,GAAWJ,YAD7B;;;;;"}